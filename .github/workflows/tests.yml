- name: Check if tests exist
  id: check_tests
  run: |
    if [ -d "tests" ] || find . -name "test_*.py" -o -name "*_test.py" | grep -q .; then
      echo "tests_exist=true" >> $GITHUB_OUTPUT
    else
      echo "tests_exist=false" >> $GITHUB_OUTPUT
    fi

- name: Run tests if they exist
  if: steps.check_tests.outputs.tests_exist == 'true'
  run: pytest -v

- name: Skip tests
  if: steps.check_tests.outputs.tests_exist == 'false'
  run: echo "Тесты не найдены, пропускаем этап тестирования"
